{% extends "base.html" %}
{% block title %}project Visualization{% endblock %}
{% block body %}
<script type="text/javascript">
	d3.selectAll(".nav-item").classed("active", false);
	d3.select("#nav-link-d3").classed("active", true);
</script>
<link href="../static/css/tooltip.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="../static/js/tooltip.js"></script>
<script type="text/javascript" src="../static/js/slider.js"></script>
<script type="text/javascript" src="../static/js/world_map.js"></script>

<html>

<head>
	<title>Colours of the World</title>
</head>

<!-- Add two sliders -->
<input type="range" name="lower_bound" id=lower_bound min="0" max="2020" value="1500">
<input type="range" name="upper_bound" id=upper_bound min="0" max="2020" value="1700">

<body>
	<h1>Colours of the World</h1>
	<svg width="1000" height="1000"></svg>
</body>

</html>

<script>
	const svg = d3.select('svg')
	const g = svg.append('g');

	const projection = d3.geoMercator();
	const pathGenerator = d3.geoPath().projection(projection)

	var colorScale = d3.scaleThreshold()
		.domain([1, 5, 10])
		.range(d3.schemeBlues[4]);
	var world_map = svg.append("g")
	.attr("id", "world_map");
	// var slider = svg.append("g")
	// .attr("id", "slider");
	var palette = svg.append("g")
	.attr("id", "palette");
	

	var lower_year = d3.select("#lower_bound").attr("value")
	var upper_year = d3.select("#upper_bound").attr("value")

	d3.json("../static/omniart_v3_1k_res.json").then(datasetData=>{
		create_slider(datasetData);
		update_map(datasetData);
	})
</script>

{% endblock %}